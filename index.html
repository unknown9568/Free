<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>ÙƒÙŠÙ ØªØ®ØªØ§Ø± ØªØ®ØµØµÙƒ Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠ</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{
      --bg1:#f6f7fb; --bg2:#ffffff; --ring:#e5e7eb; --txt:#0f172a; --muted:#64748b;
      --ind:#4f46e5; --ok:#16a34a; --warn:#f59e0b; --bad:#ef4444;
    }
    body{background:linear-gradient(to bottom,var(--bg1),var(--bg2)); color:var(--txt)}
    .card{border:1px solid var(--ring); border-radius:1rem; background:#fff; box-shadow:0 1px 2px rgba(0,0,0,.04)}
    .badge{background:#eef2ff; color:#3730a3; padding:.2rem .5rem; border-radius:.75rem; font-size:.75rem}
    .bar{height:.5rem; background:#e5e7eb; border-radius:.5rem; overflow:hidden}
    .bar>div{height:100%; background:var(--ind)}
    .pill{border:1px solid #e5e7eb; border-radius:.75rem; padding:.25rem .5rem; background:#fafafa; font-size:.75rem}
    .heroGrad{background:linear-gradient(135deg,#eef2ff 0%,#ffffff 45%,#fdf4ff 100%)}
    .iconCard{border-radius:1rem; aspect-ratio:16/9; display:grid; place-items:center; color:#fff; font-size:42px; font-weight:700; position:relative; overflow:hidden}
    .iconCard small{position:absolute; inset:auto 10px 10px auto; background:rgba(255,255,255,.2); padding:.1rem .5rem; border-radius:.5rem; font-size:12px}
    .svgbg{position:absolute; inset:0; opacity:.2}
    .btn{padding:.5rem .8rem; border-radius:.75rem; border:1px solid var(--ring); background:#fff}
    .btn-ghost{padding:.5rem .8rem; border-radius:.75rem; border:1px dashed var(--ring); background:transparent}
    .btn-primary{background:var(--ind); color:#fff; border-color:transparent}
    .btn-neutral{background:#fafafa}
    .toggle{display:flex; gap:.5rem; align-items:center}
    .muted{color:var(--muted)}
    [data-theme="dark"] body{background:#0b1020; color:#e6e8ef}
    [data-theme="dark"] .card{background:#0f1529; border-color:#1f2540}
    [data-theme="dark"] .badge{background:#262b53; color:#cbd5ff}
    [data-theme="dark"] .pill{background:#0b1020; border-color:#29304e}
    @media print{.no-print{display:none}}
  </style>
</head>
<body>

  <!-- HERO -->
  <section class="heroGrad">
    <div class="mx-auto max-w-6xl px-4 py-10 md:py-12 grid md:grid-cols-2 gap-8 items-center">
      <div>
        <h1 class="text-3xl md:text-4xl font-extrabold">ÙƒÙŠÙ ØªØ®ØªØ§Ø± ØªØ®ØµØµÙƒ Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠØŸ</h1>
        <p class="mt-3 text-slate-600">Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ø¬Ø§Ù†ÙŠØŒ ÙˆØ§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù„ÙŠ Ø¨Ø§Ù„Ù†Ù‡Ø§ÙŠØ©ØŸ Ø§Ø®ØªØµØ§Ø± Ù„Ù„Ø·Ø±ÙŠÙ‚ Ø¹Ù„ÙŠÙƒ ğŸš€</p>
        <div class="mt-4 flex flex-wrap gap-2">
          <span class="badge">Ù†ØªØ§Ø¦Ø¬ ÙÙˆØ±ÙŠØ©</span>
          <span class="badge">Ù…Ù‚Ø§Ø±Ù†Ø© Ù…Ø±Ù†Ø©</span>
          <span class="badge">Ø®Ø·Ø© Ù©Ù  ÙŠÙˆÙ…</span>
        </div>
        <div class="mt-6 flex flex-wrap gap-2 no-print">
          <button id="startBtn" class="btn btn-primary">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†</button>
          <button id="shareBtn" class="btn">Ù…Ø´Ø§Ø±ÙƒØ© Ù†ØªÙŠØ¬ØªÙŠ</button>
          <button onclick="window.print()" class="btn">Ø·Ø¨Ø§Ø¹Ø©</button>
          <button id="resetBtn" class="btn-ghost">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¶Ø¨Ø·</button>
        </div>
        <div class="mt-3 flex flex-wrap gap-4 no-print">
          <label class="toggle"><input type="checkbox" id="darkToggle"> ÙˆØ¶Ø¹ Ø¯Ø§ÙƒÙ†</label>
          <label class="toggle"><input type="checkbox" id="neutralToggle"> ÙˆØ¶Ø¹ Ù…Ø­Ø§ÙŠØ¯ (Ø£Ù‡Ø¯Ø£)</label>
        </div>
      </div>
      <div class="grid gap-3">
        <div class="iconCard" style="background:linear-gradient(135deg,#6366f1,#8b5cf6)">
          <svg class="svgbg" viewBox="0 0 200 100" preserveAspectRatio="none">
            <circle cx="40" cy="30" r="40" fill="#fff"/><rect x="110" y="-10" width="120" height="120" fill="#fff"/>
          </svg>
          <div>ğŸ“</div><small>Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø³ØªÙƒØ´Ø§Ù</small>
        </div>
        <div class="grid grid-cols-2 gap-3">
          <div class="iconCard" style="background:linear-gradient(135deg,#10b981,#22c55e)"><div>ğŸ§­</div><small>Ù†ØªØ§Ø¦Ø¬ Ù…ÙˆØ¬Ù‘Ù‡Ø©</small></div>
          <div class="iconCard" style="background:linear-gradient(135deg,#f59e0b,#f97316)"><div>ğŸ“Š</div><small>Ù…Ù‚Ø§Ø±Ù†Ø© Ø³Ù‡Ù„Ø©</small></div>
        </div>
      </div>
    </div>
  </section>

  <main class="mx-auto max-w-6xl px-4 py-6 space-y-6">
    <!-- Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù† -->
    <section id="quiz" class="card p-4">
      <h2 class="text-lg font-semibold mb-1">Ø­Ø¯Ù‘Ø¯ Ù…Ø³ØªÙˆÙ‰ Ù…ÙŠÙˆÙ„Ùƒ Ù„ÙƒÙ„ Ù…Ø­ÙˆØ±</h2>
      <p class="text-sm muted mb-4">Ù…Ù† 0 (Ù„Ø§ ÙŠÙ‡Ù…Ù†ÙŠ) Ø¥Ù„Ù‰ 10 (Ù…Ù‡Ù… Ø¬Ø¯Ù‹Ø§)</p>
      <div id="questions" class="grid gap-5 md:grid-cols-2"></div>
      <div class="mt-4 text-sm muted bg-slate-50 dark:bg-[#0b1020] p-3 rounded-xl">
        Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø© Ø£Ùˆ Ø®Ø§Ø·Ø¦Ø©â€”Ø§Ø®ØªØ± Ù…Ø§ ÙŠÙ…Ø«Ù‘Ù„Ùƒ Ø§Ù„Ø¢Ù†. ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù‚ÙŠÙ… ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª.
      </div>
    </section>
    <!-- Ø§Ù„Ù†ØªØ§Ø¦Ø¬ -->
    <section class="card p-4">
      <h2 class="text-lg font-semibold mb-4">Ø£ÙØ¶Ù„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h2>
      <div id="topResults" class="grid gap-4 md:grid-cols-3"></div>
      <div class="mt-6">
        <h3 class="font-semibold mb-2">Ù†Ø¸Ø±Ø© Ø³Ø±ÙŠØ¹Ø©</h3>
        <div id="chart" class="grid gap-2 md:grid-cols-2"></div>
      </div>
    </section>

    <!-- Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© -->
    <section class="card p-4" id="compareSection">
      <div class="flex items-center justify-between mb-2">
        <h2 class="text-lg font-semibold">Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©</h2>
        <div class="no-print flex gap-2">
          <button id="clearCompare" class="btn">Ù…Ø³Ø­ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©</button>
        </div>
      </div>
      <div id="compareRoot" class="text-sm muted">Ø£Ø¶ÙÙ ØªØ®ØµÙ‘ØµØ§Øª Ù…Ù† Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø£Ùˆ Ø§Ù„Ø¯Ù„ÙŠÙ„ Ù„Ù…Ù‚Ø§Ø±Ù†ØªÙ‡Ø§ Ù‡Ù†Ø§.</div>
    </section>

    <!-- Ø¯Ù„ÙŠÙ„ Ø§Ù„ØªØ®ØµØµØ§Øª -->
    <section class="card p-4">
      <h2 class="text-lg font-semibold mb-3">Ø§Ø³ØªÙƒØ´Ù Ø§Ù„ØªØ®ØµØµØ§Øª</h2>
      <div class="mb-3 grid md:grid-cols-3 gap-2">
        <input id="search" class="border rounded-xl px-3 py-2 md:col-span-2" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø£Ùˆ Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ (Ù…Ø«Ù„Ø§Ù‹: ğŸ©ºØŒ ğŸ’»)â€¦">
        <button id="clearSearch" class="btn">Ù…Ø³Ø­</button>
      </div>
      <div id="guide" class="grid gap-4 sm:grid-cols-2 md:grid-cols-3"></div>
    </section>

    <!-- Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø®Ø±ÙŠØ¬ÙŠÙ† -->
    <section class="card p-4">
      <h2 class="text-lg font-semibold mb-3">Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø®Ø±ÙŠØ¬ÙŠÙ†</h2>

      <!-- 1) Ù…ÙˆÙ„Ù‘Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ© -->
      <div class="mb-6">
        <h3 class="font-semibold mb-2">Ù¡) ÙƒÙ„Ù…Ø§Øª Ù…ÙØªØ§Ø­ÙŠØ© Ù„Ù„Ø³ÙŠØ±Ø© ÙˆLinkedIn</h3>
        <p class="text-sm muted mb-2">Ø­Ø³Ø¨ Ø£Ø¹Ù„Ù‰ ØªØ®ØµÙ‘ØµØ§Øª Ù…Ù„Ø§Ø¦Ù…Ø© Ù„Ùƒ Ø§Ù„Ø¢Ù†.</p>
        <div id="cvKeywords" class="flex flex-wrap gap-2"></div>
        <div class="mt-2">
          <button id="copyKeywordsBtn" class="btn">Ù†Ø³Ø® Ø§Ù„ÙƒÙ„Ù…Ø§Øª</button>
        </div>
      </div>

      <hr class="my-4"/>

      <!-- 2) Ø£ÙÙƒØ§Ø± Ù…Ø´Ø§Ø±ÙŠØ¹ -->
      <div class="mb-6">
        <h3 class="font-semibold mb-2">Ù¢) Ø£ÙÙƒØ§Ø± Ù…Ø´Ø§Ø±ÙŠØ¹/Ø¨ÙˆØ±ØªÙÙˆÙ„ÙŠÙˆ</h3>
        <p class="text-sm muted mb-2">Ù…Ø´Ø§Ø±ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ© ØªÙ‚ÙˆÙ‘ÙŠ Ø³ÙŠØ±ØªÙƒ â€” Ø£Ø¶ÙÙ Ù…Ø§ ÙŠØ¹Ø¬Ø¨Ùƒ Ù„Ø®Ø·Ø© Ù©Ù  ÙŠÙˆÙ….</p>
        <div id="projectIdeas" class="grid gap-3 sm:grid-cols-2 md:grid-cols-3"></div>
      </div>

      <hr class="my-4"/>

      <!-- 3) Ø®Ø·Ø© Ù©Ù  ÙŠÙˆÙ… -->
      <div class="mb-6">
        <h3 class="font-semibold mb-2">Ù£) Ø®Ø·Ø© Ù©Ù  ÙŠÙˆÙ… Ø¨Ø¹Ø¯ Ø§Ù„ØªØ®Ø±Ø¬</h3>
        <div class="bar mb-2"><div id="planProgress" style="width:0%"></div></div>
        <div class="text-sm muted mb-3">ØªÙ‚Ø¯Ù‘Ù…Ùƒ: <b id="planPercent">0%</b></div>
        <div id="planList" class="grid gap-2 md:grid-cols-2"></div>
        <div class="mt-3 flex gap-2">
          <button id="addCustomTask" class="btn">Ø¥Ø¶Ø§ÙØ© Ù…Ù‡Ù…Ø© Ù…Ø®ØµÙ‘ØµØ©</button>
          <button id="clearPlan" class="btn-ghost">Ù…Ø³Ø­ Ø§Ù„Ø®Ø·Ø©</button>
          <button onclick="window.print()" class="btn">Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø®Ø·Ø©</button>
        </div>
      </div>

      <hr class="my-4"/>

      <!-- 4) Ø¨Ù†Ùƒ Ø£Ø³Ø¦Ù„Ø© Ù…Ù‚Ø§Ø¨Ù„Ø§Øª -->
      <div class="mb-6">
        <h3 class="font-semibold mb-2">Ù¤) Ø¨Ù†Ùƒ Ø£Ø³Ø¦Ù„Ø© Ù…Ù‚Ø§Ø¨Ù„Ø§Øª Ø­Ø³Ø¨ Ø§Ù„ØªØ®ØµØµ</h3>
        <div class="flex flex-wrap gap-2 mb-3" id="interviewMajorTabs"></div>
        <div id="interviewQs" class="grid gap-2"></div>
        <div class="mt-2">
          <button id="copyQsBtn" class="btn">Ù†Ø³Ø® ÙƒÙ„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø¸Ø§Ù‡Ø±Ø©</button>
        </div>
      </div>

      <hr class="my-4"/>

      <!-- 5) Ù…ÙˆÙ„Ù‘Ø¯ Ù‚Ø§Ù„Ø¨ Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ© -->
      <div class="mb-6">
        <h3 class="font-semibold mb-2">Ù¥) Ù…ÙˆÙ„Ù‘Ø¯ Ù‚Ø§Ù„Ø¨ Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ© Ø³Ø±ÙŠØ¹</h3>
        <p class="text-sm muted mb-2">ÙŠØ³ØªØ®Ø¯Ù… Ø£Ø¹Ù„Ù‰ ØªØ®ØµÙ‘ØµØ§ØªÙƒ Ù„Ø¥Ø®Ø±Ø§Ø¬ Ø£Ù‚Ø³Ø§Ù… Ù…Ù‚ØªØ±Ø­Ø©.</p>
        <div class="flex gap-2">
          <button id="genCVAr" class="btn">ØªÙˆÙ„ÙŠØ¯ Ø³ÙŠØ±Ø© (Ø¹Ø±Ø¨ÙŠ)</button>
          <button id="genCVEn" class="btn">Generate CV (English)</button>
        </div>
      </div>

      <hr class="my-4"/>

      <!-- 6) Ù…Ø­Ø§ÙƒÙŠ Ù…Ù‚Ø§Ø¨Ù„Ø© Ù…Ø¹ Ù…Ø¤Ù‚Ù‘Øª (Ø¨Ø¯ÙŠÙ„ Ø§Ù„Ø£Ø¯Ø§Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©) -->
      <div id="mockInterview">
        <h3 class="font-semibold mb-2">Ù¦) Ù…Ø­Ø§ÙƒÙŠ Ù…Ù‚Ø§Ø¨Ù„Ø© â€” Ù©Ù  Ø«Ø§Ù†ÙŠØ©</h3>
        <p class="text-sm muted mb-2">ÙŠØ¹Ø±Ø¶ Ø³Ø¤Ø§Ù„ Ù…Ù‚Ø§Ø¨Ù„Ø© Ù…Ø±ØªØ¨Ø· Ø¨ØªØ®ØµÙ‘ØµØ§ØªÙƒØŒ Ù…Ø¹ Ø¹Ø¯Ù‘Ø§Ø¯ Ù„Ù„ÙˆÙ‚Øª.</p>
        <div class="card p-3 mb-2">
          <div id="miQuestion" class="text-sm">Ø§Ø¶ØºØ· "Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯" Ù„Ù„Ø¨Ø¯Ø¡.</div>
          <div class="flex items-center gap-3 mt-3">
            <button id="miNew" class="btn">Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯</button>
            <button id="miCopy" class="btn-ghost text-xs">Ù†Ø³Ø® Ø§Ù„Ø³Ø¤Ø§Ù„</button>
            <div class="ml-auto text-sm"><span class="pill">â±ï¸ <b id="miTimer">90</b>s</span></div>
          </div>
        </div>
        <div class="text-xs muted">Ù†ØµÙŠØ­Ø©: Ø§Ø³ØªØ®Ø¯Ù… Ø¥Ø·Ø§Ø± STAR (Ø§Ù„Ù…ÙˆÙ‚Ù-Ø§Ù„Ù…Ù‡Ù…Ø©-Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡-Ø§Ù„Ù†ØªÙŠØ¬Ø©).</div>
      </div>
    </section>

    <!-- âœ¨ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ -->
    <section class="card p-4 no-print">
      <div class="flex items-center gap-3">
        <div class="text-2xl">ğŸ“š</div>
        <div class="grow">
          <div class="font-semibold">Ù„Ø§ ØªØ´ÙŠÙ„ Ù‡Ù… Ø§Ù„ÙˆØ§Ø¬Ø¨ ÙˆÙ„Ø§ Ø§Ù„Ø¹Ø±Ø¶!</div>
          <div class="text-sm text-slate-600">ÙƒÙ„Ù‡Ø§ Ø£Ø³Ø§Ø¹Ø¯Ùƒ ÙÙŠÙ‡Ø§ Ø¨Ø³Ø¹Ø± Ø±Ù…Ø²ÙŠ âœ…</div>
        </div>
        <a href="https://t.me/je80r" target="_blank" rel="noopener" class="btn btn-primary whitespace-nowrap">
          ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙŠ
        </a>
      </div>
    </section>
  </main>
  <!-- Modal -->
  <div id="modal" class="fixed inset-0 bg-black/40 hidden items-center justify-center p-4 no-print">
    <div class="card max-w-2xl w-full overflow-hidden">
      <div class="flex items-center justify-between px-4 py-3 border-b border-slate-200">
        <h3 id="modalTitle" class="font-semibold"></h3>
        <button id="closeModal" class="btn">Ø¥ØºÙ„Ø§Ù‚</button>
      </div>
      <div class="p-4 text-sm leading-7">
        <div id="modalIcon" class="iconCard mb-3" style="background:linear-gradient(135deg,#6366f1,#8b5cf6)">
          <svg class="svgbg" viewBox="0 0 200 100" preserveAspectRatio="none">
            <circle cx="40" cy="30" r="40" fill="#fff"/><rect x="110" y="-10" width="120" height="120" fill="#fff"/>
          </svg>
          <div id="modalEmoji" style="font-size:48px">ğŸ“</div><small id="modalBadge">ØªÙØ§ØµÙŠÙ„</small>
        </div>
        <div><b>Ø§Ù„ØªØ®ØµØµ:</b> <span id="mName"></span></div>
        <div><b>Ù…Ù„Ø®Øµ:</b> <span id="mSummary"></span></div>
        <div><b>Ù…Ù‡Ø§Ø±Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©:</b> <span id="mSkills"></span></div>
        <div id="mBranchesWrap"><b>Ø§Ù„ÙØ±ÙˆØ¹:</b> <span id="mBranches"></span></div>
        <div id="mCoursesWrap"><b>Ù…ÙˆØ§Ø¯ Ø£Ø³Ø§Ø³ÙŠØ©:</b> <span id="mCourses"></span></div>
        <div><b>Ù…Ø¬Ø§Ù„Ø§Øª Ø¹Ù…Ù„:</b> <span id="mCareers"></span></div>
        <div><b>Ù…Ø³Ø§Ø± Ø§Ù„Ø¯Ø±Ø§Ø³Ø©:</b> <span id="mStudy"></span></div>
        <div class="grid md:grid-cols-2 gap-2 mt-2">
          <div id="mPros" class="bg-slate-50 rounded-lg p-3"></div>
          <div id="mCons" class="bg-slate-50 rounded-lg p-3"></div>
        </div>
        <div class="text-xs muted mt-2" id="mTips"></div>
      </div>
    </div>
  </div>
  <script>
    /* ================= Ø£Ø³Ø§Ø³ÙŠØ§Øª / Ø¨ÙŠØ§Ù†Ø§Øª ================= */
    const QUESTIONS = [
      { key:"math",       title:"Ø£Ø­Ø¨ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª ÙˆØ§Ù„Ù…Ù†Ø·Ù‚" },
      { key:"tech",       title:"Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„ØªÙ‚Ù†ÙŠØ© ÙˆØ§Ù„Ø¨Ø±Ù…Ø¬Ø©" },
      { key:"bio",        title:"Ø£Ù…ÙŠÙ„ Ù„Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø­ÙŠÙˆÙŠØ© (Ø£Ø­ÙŠØ§Ø¡/ÙƒÙŠÙ…ÙŠØ§Ø¡)" },
      { key:"literature", title:"Ø£Ø­Ø¨ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© ÙˆØ§Ù„ÙƒØªØ§Ø¨Ø© ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„" },
      { key:"design",     title:"Ø£Ù…ÙŠÙ„ Ù„Ù„ÙÙ† ÙˆØ§Ù„ØªØµÙ…ÙŠÙ…" },
      { key:"people",     title:"Ø£Ø­Ø¨ Ø§Ù„Ø¹Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù†Ø§Ø³ ÙˆØ®Ø¯Ù…ØªÙ‡Ù…" },
      { key:"business",   title:"Ù…Ù‡ØªÙ… Ø¨Ø±ÙŠØ§Ø¯Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ ÙˆØ§Ù„Ø¥Ø¯Ø§Ø±Ø©" },
      { key:"longStudy",  title:"Ø£ØªØ­Ù…Ù‘Ù„ Ø¯Ø±Ø§Ø³Ø§Øª Ø·ÙˆÙŠÙ„Ø© ÙˆØ¶ØºØ·" },
      { key:"salary",     title:"Ø§Ù„Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø§Ù„Ù…Ø§Ù„ÙŠ Ù…Ù‡Ù… Ø¬Ø¯Ù‹Ø§ Ù„ÙŠ" },
      { key:"creative",   title:"Ø£ÙØ¶Ù„ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ Ø§Ù„Ù…ØªØ¬Ø¯Ø¯" },
    ];

    const ICONS = {
      cs:   { emoji:"ğŸ’»", grad:["#0ea5e9","#6366f1"] },
      eng:  { emoji:"ğŸ› ï¸", grad:["#10b981","#22c55e"] },
      med:  { emoji:"ğŸ©º", grad:["#ef4444","#f59e0b"] },
      pharm:{ emoji:"ğŸ’Š", grad:["#8b5cf6","#22d3ee"] },
      biz:  { emoji:"ğŸ“ˆ", grad:["#f59e0b","#f97316"] },
      acct: { emoji:"ğŸ§®", grad:["#06b6d4","#0ea5e9"] },
      lit:  { emoji:"ğŸ“š", grad:["#14b8a6","#84cc16"] },
      law:  { emoji:"âš–ï¸", grad:["#a3a3a3","#4b5563"] },
      design:{emoji:"ğŸ¨", grad:["#f43f5e","#db2777"] },
      arch: { emoji:"ğŸ›ï¸", grad:["#22c55e","#84cc16"] },
      ds:   { emoji:"ğŸ“Š", grad:["#6366f1","#22d3ee"] },
      psy:  { emoji:"ğŸ§ ", grad:["#06b6d4","#10b981"] },
    };

    const BRANCHES = {
      cs:["Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ÙˆÙŠØ¨ (ÙˆØ§Ø¬Ù‡Ø§Øª/Ø®Ù„ÙÙŠØ©)","Ø£Ù†Ø¸Ù…Ø© ÙˆØ°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ","Ø£Ù…Ù† Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ"],
      eng:["ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©","Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ©","ØµÙ†Ø§Ø¹ÙŠØ©"],
      med:["Ø¨Ø§Ø·Ù†Ø©","Ø¬Ø±Ø§Ø­Ø©","Ø£Ø·ÙØ§Ù„"],
      pharm:["Ø³Ø±ÙŠØ±ÙŠØ©","ØµÙ†Ø§Ø¹ÙŠØ©","Ù…Ø¬ØªÙ…Ø¹ÙŠØ©"],
      biz:["ØªØ³ÙˆÙŠÙ‚","ØªÙ…ÙˆÙŠÙ„","Ù…Ù†ØªØ¬Ø§Øª"],
      acct:["Ù…Ø§Ù„ÙŠØ©","ØªÙƒØ§Ù„ÙŠÙ","ØªØ¯Ù‚ÙŠÙ‚"],
      lit:["Ù„Ø³Ø§Ù†ÙŠØ§Øª","Ù†Ù‚Ø¯","ØªØ±Ø¬Ù…Ø©"],
      law:["Ø¹Ù‚ÙˆØ¯","Ø´Ø±ÙƒØ§Øª","Ø¬Ù†Ø§Ø¦ÙŠ"],
      design:["Ù‡ÙˆÙŠØ© Ø¨ØµØ±ÙŠØ©","ÙˆØ§Ø¬Ù‡Ø§Øª UX/UI","Ø­Ù…Ù„Ø§Øª"],
      arch:["ØªØµÙ…ÙŠÙ… Ù…Ø¹Ù…Ø§Ø±ÙŠ","ØªØ®Ø·ÙŠØ· Ø­Ø¶Ø±ÙŠ","ØªØµÙ…ÙŠÙ… Ø¯Ø§Ø®Ù„ÙŠ"],
      ds:["ØªØ­Ù„ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª","ØªØ¹Ù„Ù… Ø¢Ù„ÙŠ","Ù‡Ù†Ø¯Ø³Ø© Ø¨ÙŠØ§Ù†Ø§Øª"],
      psy:["Ø¥Ø±Ø´Ø§Ø¯","ØªØ±Ø¨ÙˆÙŠ","Ø¥ÙƒÙ„ÙŠÙ†ÙŠÙƒÙŠ"]
    };

    const MAJORS = [
      { id:"cs",  name:"Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­Ø§Ø³Ø¨",
        weights:{math:.7,tech:1,bio:.05,literature:.1,design:.2,people:.3,business:.3,longStudy:.6,salary:.85,creative:.4},
        summary:"Ø¨Ø±Ù…Ø¬Ø©ØŒ Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§ØªØŒ Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø£Ù†Ø¸Ù…Ø© ÙˆØ§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª.",
        branches:BRANCHES.cs,
        branchesNote:"Ø§Ù„ÙˆÙŠØ¨ ÙŠØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª ÙˆØ§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØ› Ø§Ù„Ø£Ù…Ù† ÙŠØ±ÙƒÙ‘Ø² Ø¹Ù„Ù‰ Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø£Ù†Ø¸Ù…Ø©.",
        skills:["Ø¨Ø±Ù…Ø¬Ø©","Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª","ØªÙÙƒÙŠØ± Ù…Ù†Ø·Ù‚ÙŠ","Ù‡Ù†Ø¯Ø³Ø© Ø¨Ø±Ù…Ø¬ÙŠØ§Øª"],
        careers:["Ù…Ø·ÙˆØ± Ø¨Ø±Ù…Ø¬ÙŠØ§Øª","Ù…Ù‡Ù†Ø¯Ø³ Ù†Ø¸Ù…","Ø¹Ø§Ù„Ù… Ø¨ÙŠØ§Ù†Ø§Øª","Ù…Ù‡Ù†Ø¯Ø³ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ"],
        study:"Ù¤ Ø³Ù†ÙˆØ§Øª + Ù…Ø´Ø§Ø±ÙŠØ¹ ÙˆØªØ¯Ø±ÙŠØ¨.",
        coreCourses:["Ù‡ÙŠØ§ÙƒÙ„ Ø¨ÙŠØ§Ù†Ø§Øª","Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª","Ù‚ÙˆØ§Ø¹Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª","Ø´Ø¨ÙƒØ§Øª","Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ"],
        pros:["Ø·Ù„Ø¨ ÙˆØ¸ÙŠÙÙŠ Ù…Ø±ØªÙØ¹","Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø¹Ù…Ù„ Ø¹Ù† Ø¨Ø¹Ø¯","ØªÙ†ÙˆØ¹ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª"],
        cons:["ØªØ¹Ù„Ù… Ù…Ø³ØªÙ…Ø±","Ø¬Ù„Ø³Ø§Øª Ø·ÙˆÙŠÙ„Ø© Ø£Ù…Ø§Ù… Ø§Ù„Ø­Ø§Ø³ÙˆØ¨"],
        tips:"Ø§Ø¨Ù†Ù Ø¨ÙˆØ±ØªÙÙˆÙ„ÙŠÙˆ ÙˆØ´Ø§Ø±Ùƒ ÙÙŠ Ù‡Ø§ÙƒØ§Ø«ÙˆÙ†Ø§Øª."
      },
      { id:"eng", name:"Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©",
        weights:{math:.9,tech:.6,bio:.1,literature:.05,design:.3,people:.3,business:.3,longStudy:.7,salary:.8,creative:.3},
        summary:"Ø­Ù„ Ù…Ø³Ø§Ø¦Ù„ Ù…Ø¹Ù‚Ù‘Ø¯Ø© ÙˆØªØµÙ…ÙŠÙ… Ø­Ù„ÙˆÙ„ Ø¹Ù…Ù„ÙŠØ©.",
        branches:BRANCHES.eng,
        branchesNote:"Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ© Ù„Ù„Ø£Ø¬Ù‡Ø²Ø© ÙˆØ§Ù„Ø­Ø±ÙƒØ©ØŒ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ© Ù„Ù„Ù‚Ø¯Ø±Ø© ÙˆØ§Ù„ØªØ­ÙƒÙ…ØŒ Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ© Ù„ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª.",
        skills:["Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø©","Ù†Ù…Ø°Ø¬Ø©","ØªØ­Ù„ÙŠÙ„","Ø±Ø³Ù… Ù‡Ù†Ø¯Ø³ÙŠ"],
        careers:["Ù…Ù‡Ù†Ø¯Ø³ ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ","Ù…Ù‡Ù†Ø¯Ø³ Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠ","Ù…Ù‡Ù†Ø¯Ø³ ØµÙ†Ø§Ø¹ÙŠ"],
        study:"Ù¤â€“Ù¥ Ø³Ù†ÙˆØ§Øª + Ù…Ø¹Ø§Ù…Ù„.",
        coreCourses:["ÙÙŠØ²ÙŠØ§Ø¡ Ù‡Ù†Ø¯Ø³ÙŠØ©","Ø¯Ø§Ø±Ø§Øª","Ù‚ÙˆÙ‰/Ù…ÙˆØ§Ø¦Ø¹","ØªØ­ÙƒÙ…","Ø±Ø³Ù… Ù‡Ù†Ø¯Ø³ÙŠ"],
        pros:["Ø£Ø³Ø§Ø³ Ø¹Ù„Ù…ÙŠ Ù‚ÙˆÙŠ","ØªØ·Ø¨ÙŠÙ‚Ø§Øª ØµÙ†Ø§Ø¹ÙŠØ© ÙˆØ§Ø³Ø¹Ø©"],
        cons:["Ù…Ø´Ø§Ø±ÙŠØ¹ Ù…Ø±Ù‡Ù‚Ø©","Ù…Ø³ØªÙ„Ø²Ù…Ø§Øª Ù…Ø¹Ø§Ù…Ù„"],
        tips:"Ø±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª ÙˆØ§Ù„ÙÙŠØ²ÙŠØ§Ø¡ ÙˆØ§Ø¨Ø¯Ø£ ØªØ¯Ø±ÙŠØ¨Ù‹Ø§ ØµÙŠÙÙŠÙ‹Ø§."
      },
      { id:"med", name:"Ø§Ù„Ø·Ø¨",
        weights:{math:.4,tech:.2,bio:1,literature:.2,design:.05,people:.7,business:.2,longStudy:1,salary:.8,creative:.2},
        summary:"ØªØ´Ø®ÙŠØµ ÙˆØ¹Ù„Ø§Ø¬ ÙˆØ±Ø¹Ø§ÙŠØ© ØµØ­ÙŠØ©.",
        branches:BRANCHES.med,
        branchesNote:"Ø§Ù„ØªØ®ØµØµØ§Øª ØªØªØ·Ù„Ø¨ Ù…ÙØ§Ø¶Ù„Ø§Øª Ù„Ø§Ø­Ù‚Ø© ÙˆØ¯ÙˆØ§Ù…Ù‹Ø§ Ø³Ø±ÙŠØ±ÙŠÙ‹Ø§ Ù…ÙƒØ«ÙÙ‹Ø§.",
        skills:["Ø£Ø­ÙŠØ§Ø¡","ÙƒÙŠÙ…ÙŠØ§Ø¡","ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø±Ø¶Ù‰","Ø¯Ù‚Ø©"],
        careers:["Ø·Ø¨ÙŠØ¨ Ø¹Ø§Ù…","ØªØ®ØµØµØ§Øª Ø·Ø¨ÙŠØ©","Ø¨Ø­Ø« Ø·Ø¨ÙŠ"],
        study:"Ù¦â€“Ù§ Ø³Ù†ÙˆØ§Øª + Ø§Ù…ØªÙŠØ§Ø² ÙˆØªØ®ØµØµ.",
        coreCourses:["ØªØ´Ø±ÙŠØ­","ÙØ³ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§","Ø£Ø¯ÙˆÙŠØ©","Ø¨Ø§Ø·Ù†Ø©","Ø¬Ø±Ø§Ø­Ø©"],
        pros:["Ø±Ø³Ø§Ù„Ø© Ø¥Ù†Ø³Ø§Ù†ÙŠØ©","Ù…ÙƒØ§Ù†Ø© Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©"],
        cons:["Ø³Ù†ÙˆØ§Øª Ø¯Ø±Ø§Ø³Ø© Ø·ÙˆÙŠÙ„Ø©","Ù†ÙˆØ¨Ø§Øª Ø¹Ù…Ù„"],
        tips:"ØªØ·ÙˆÙ‘Ø¹ ÙÙŠ Ù…Ø±Ø§ÙÙ‚ ØµØ­ÙŠØ© ÙˆØ§ÙƒØ³Ø¨ Ø®Ø¨Ø±Ø© ØªÙˆØ§ØµÙ„."
      },
      { id:"pharm", name:"Ø§Ù„ØµÙŠØ¯Ù„Ø©",
        weights:{math:.5,tech:.2,bio:.9,literature:.2,design:.05,people:.5,business:.3,longStudy:.8,salary:.7,creative:.2},
        summary:"Ø§Ù„Ø£Ø¯ÙˆÙŠØ© ÙˆØªØ±ÙƒÙŠØ¨Ø§ØªÙ‡Ø§ ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ Ø§Ù„Ø¢Ù…Ù†.",
        branches:BRANCHES.pharm,
        branchesNote:"Ø§Ù„Ø³Ø±ÙŠØ±ÙŠØ© Ù…Ø¹ Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø·Ø¨ÙŠØ› Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ© ÙÙŠ Ø®Ø·ÙˆØ· Ø§Ù„Ø¥Ù†ØªØ§Ø¬ ÙˆØ§Ù„Ø¬ÙˆØ¯Ø©.",
        skills:["ÙƒÙŠÙ…ÙŠØ§Ø¡ Ø¯ÙˆØ§Ø¦ÙŠØ©","ØµÙŠØ¯Ù„Ø© Ø³Ø±ÙŠØ±ÙŠØ©","ØªÙˆØ§ØµÙ„"],
        careers:["ØµÙŠØ¯Ù„ÙŠ Ø³Ø±ÙŠØ±ÙŠ","ØµÙŠØ¯Ù„ÙŠ Ù…Ø¬ØªÙ…Ø¹ÙŠ","ØµÙ†Ø§Ø¹Ø© Ø¯ÙˆØ§Ø¦ÙŠØ©"],
        study:"Ù¥â€“Ù¦ Ø³Ù†ÙˆØ§Øª Ù…Ø¹ ØªØ¯Ø±ÙŠØ¨.",
        coreCourses:["ÙƒÙŠÙ…ÙŠØ§Ø¡ Ø¹Ø¶ÙˆÙŠØ©","ØµÙŠØ¯Ù„Ø§Ù†ÙŠØ§Øª","Ø¹Ù„Ù… Ø§Ù„Ø£Ø¯ÙˆÙŠØ©","Ù…ÙŠÙƒØ±ÙˆØ¨ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§"],
        pros:["ÙØ±Øµ Ø¨Ø§Ù„Ù…Ø³ØªØ´ÙÙŠØ§Øª ÙˆØ§Ù„ØµÙ†Ø§Ø¹Ø©","Ù…Ø³Ø§Ø±Ø§Øª Ø¨Ø­Ø«ÙŠØ©"],
        cons:["Ø­ÙØ¸ ÙƒØ«ÙŠØ±","Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø¹Ø§Ù„ÙŠØ©"],
        tips:"ØªØ¯Ø±ÙŠØ¨ ØµÙŠÙÙŠ ÙÙŠ ØµÙŠØ¯Ù„ÙŠØ© Ø£Ùˆ Ù…ØµÙ†Ø¹."
      },
      { id:"biz", name:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„",
        weights:{math:.3,tech:.2,bio:.05,literature:.3,design:.1,people:.6,business:1,longStudy:.5,salary:.7,creative:.4},
        summary:"ØªØ´ØºÙŠÙ„ Ø§Ù„Ø´Ø±ÙƒØ§ØªØŒ Ø§Ù„ØªØ³ÙˆÙŠÙ‚ØŒ Ø§Ù„ØªÙ…ÙˆÙŠÙ„ØŒ ÙˆØ§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©.",
        branches:BRANCHES.biz,
        branchesNote:"Ø§Ù„ØªØ³ÙˆÙŠÙ‚ Ù„Ù„Ø·Ù„Ø¨ØŒ Ø§Ù„ØªÙ…ÙˆÙŠÙ„ Ù„Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù…Ø§Ù„ÙŠØ©ØŒ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù„Ù„ØªØ·ÙˆÙŠØ± ÙˆØ§Ù„Ù‚ÙŠØ§Ø³.",
        skills:["ØªØ³ÙˆÙŠÙ‚","ØªÙ…ÙˆÙŠÙ„","ØªØ­Ù„ÙŠÙ„ Ø£Ø¹Ù…Ø§Ù„","ØªÙˆØ§ØµÙ„"],
        careers:["Ù…Ø®ØªØµ ØªØ³ÙˆÙŠÙ‚","Ù…Ø­Ù„Ù„ Ø£Ø¹Ù…Ø§Ù„","Ù…Ø¯ÙŠØ± Ù…Ù†ØªØ¬Ø§Øª","Ø±Ø§Ø¦Ø¯ Ø£Ø¹Ù…Ø§Ù„"],
        study:"Ù¤ Ø³Ù†ÙˆØ§Øª Ø£Ùˆ + Ù…Ø§Ø¬Ø³ØªÙŠØ± Ø¥Ø¯Ø§Ø±Ø©.",
        coreCourses:["Ù…Ø¨Ø§Ø¯Ø¦ Ø¥Ø¯Ø§Ø±Ø©","Ù…Ø­Ø§Ø³Ø¨Ø©","Ø§Ù‚ØªØµØ§Ø¯","Ø³Ù„ÙˆÙƒ ØªÙ†Ø¸ÙŠÙ…ÙŠ","Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©"],
        pros:["Ù…Ø±ÙˆÙ†Ø© ÙˆØ¸ÙŠÙÙŠØ©","Ù…Ù„Ø§Ø¦Ù…Ø© Ù„Ø±ÙŠØ§Ø¯Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„"],
        cons:["Ù…Ù†Ø§ÙØ³Ø© Ø¹Ø§Ù„ÙŠØ©","Ø­Ø§Ø¬Ø© Ù„Ø¹Ù„Ø§Ù‚Ø§Øª"],
        tips:"Ø§Ø¨Ø¯Ø£ Ù…Ø´Ø±ÙˆØ¹Ù‹Ø§ ØµØºÙŠØ±Ù‹Ø§ Ø£Ùˆ Ù†Ø§Ø¯ÙŠ Ø±ÙŠØ§Ø¯Ø©."
      },
      { id:"acct", name:"Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©",
        weights:{math:.6,tech:.2,bio:.05,literature:.2,design:.05,people:.4,business:.7,longStudy:.5,salary:.8,creative:.2},
        summary:"Ù‚ÙŠØ§Ø³ Ø§Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø§Ù„ÙŠ ÙˆØ§Ù„ØªØ¯Ù‚ÙŠÙ‚ ÙˆØ§Ù„Ø¶Ø±Ø§Ø¦Ø¨.",
        branches:BRANCHES.acct,
        branchesNote:"Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ù„Ù„ØªÙ‚Ø§Ø±ÙŠØ±ØŒ Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ Ù„Ù„ØªØµÙ†ÙŠØ¹ØŒ Ø§Ù„ØªØ¯Ù‚ÙŠÙ‚ Ù„Ù„Ø§Ù…ØªØ«Ø§Ù„.",
        skills:["Ù…Ø¹Ø§ÙŠÙŠØ± Ù…Ø­Ø§Ø³Ø¨ÙŠØ©","ØªÙØ§ØµÙŠÙ„","Ø£Ø±Ù‚Ø§Ù…"],
        careers:["Ù…Ø­Ø§Ø³Ø¨","Ù…Ø¯Ù‚Ù‚","Ù…Ø­Ù„Ù„ Ù…Ø§Ù„ÙŠ"],
        study:"Ù¤ Ø³Ù†ÙˆØ§Øª + Ø²Ù…Ø§Ù„Ø§Øª Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©.",
        coreCourses:["Ù…Ø­Ø§Ø³Ø¨Ø© Ù…Ø§Ù„ÙŠØ©","Ù…Ø­Ø§Ø³Ø¨Ø© Ø¥Ø¯Ø§Ø±ÙŠØ©","ØªØ¯Ù‚ÙŠÙ‚","Ø¶Ø±Ø§Ø¦Ø¨"],
        pros:["Ø·Ù„Ø¨ Ù…Ø³ØªÙ…Ø±","Ù…Ø³Ø§Ø± Ø´Ù‡Ø§Ø¯Ø§Øª ÙˆØ§Ø¶Ø­"],
        cons:["Ø±ÙˆØªÙŠÙ†","Ù…ÙˆØ§Ø³Ù… Ø¶ØºØ·"],
        tips:"Ø§Ø³ØªÙ‡Ø¯Ù CPA/CMA Ù…Ø¨ÙƒØ±Ù‹Ø§."
      },
      { id:"lit", name:"Ø§Ù„Ù„ØºØ© ÙˆØ§Ù„Ø£Ø¯Ø¨",
        weights:{math:.05,tech:.1,bio:.05,literature:1,design:.1,people:.5,business:.2,longStudy:.6,salary:.5,creative:.6},
        summary:"Ù‚Ø±Ø§Ø¡Ø© ÙˆÙ†Ù‚Ø¯ ÙˆÙƒØªØ§Ø¨Ø© ÙˆØ¨Ù„Ø§ØºØ©.",
        branches:BRANCHES.lit,
        branchesNote:"Ø§Ù„ØªØ±Ø¬Ù…Ø© ØªØ·Ø¨ÙŠÙ‚ÙŠØ©ØŒ ÙˆØ§Ù„Ù„Ø³Ø§Ù†ÙŠØ§Øª ØªØ­Ù„ÙŠÙ„ Ù„ØºÙˆÙŠØŒ ÙˆØ§Ù„Ù†Ù‚Ø¯ Ù„Ù„Ø£Ø¯Ø¨.",
        skills:["ÙƒØªØ§Ø¨Ø©","ØªØ­Ù„ÙŠÙ„ Ù†ØµÙˆØµ","ØªØ­Ø±ÙŠØ±"],
        careers:["Ù…Ø¹Ù„Ù… Ù„ØºØ©","ÙƒØ§ØªØ¨/Ù…Ø­Ø±Ø±","ØªØ±Ø¬Ù…Ø©"],
        study:"Ù¤ Ø³Ù†ÙˆØ§Øª.",
        coreCourses:["Ù†Ù‚Ø¯ Ø£Ø¯Ø¨ÙŠ","Ø¨Ù„Ø§ØºØ©","Ù„Ø³Ø§Ù†ÙŠØ§Øª","Ø£Ø¯Ø¨ Ø­Ø¯ÙŠØ«"],
        pros:["Ù…Ù‡Ø§Ø±Ø§Øª ØªØ¹Ø¨ÙŠØ± Ø¹Ø§Ù„ÙŠØ©","Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø¥Ø¹Ù„Ø§Ù…/Ø§Ù„Ù†Ø´Ø±"],
        cons:["ÙØ±Øµ ØªÙ†Ø§ÙØ³ÙŠØ©","Ø¯Ø®Ù„ Ù…ØªÙØ§ÙˆØª"],
        tips:"Ù…Ø¯ÙˆÙ†Ø©/Ù‚Ù†Ø§Ø© Ù‚Ø±Ø§Ø¡Ø© ÙˆÙ†Ù…Ø§Ø°Ø¬ ÙƒØªØ§Ø¨ÙŠØ©."
      },
      { id:"law", name:"Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†",
        weights:{math:.1,tech:.1,bio:.05,literature:.7,design:.05,people:.7,business:.4,longStudy:.7,salary:.6,creative:.3},
        summary:"ØªØ´Ø±ÙŠØ¹Ø§ØªØŒ Ø¹Ù‚ÙˆØ¯ØŒ Ù…Ø±Ø§ÙØ¹Ø§Øª ÙˆØ§Ù…ØªØ«Ø§Ù„.",
        branches:BRANCHES.law,
        branchesNote:"Ø§Ù„Ø¹Ù‚ÙˆØ¯ Ù„Ù„Ø´Ø±ÙƒØ§ØªØŒ Ø§Ù„Ø¬Ù†Ø§Ø¦ÙŠ Ù„Ù„Ù…Ø±Ø§ÙØ¹Ø§ØªØŒ Ø§Ù„Ø´Ø±ÙƒØ§Øª Ù„Ù„Ø­ÙˆÙƒÙ…Ø©.",
        skills:["Ù…Ù†Ø·Ù‚","ØµÙŠØ§ØºØ©","ØªÙØ§ÙˆØ¶"],
        careers:["Ù…Ø­Ø§Ù…ÙŠ","Ù…Ø³ØªØ´Ø§Ø± Ù‚Ø§Ù†ÙˆÙ†ÙŠ","Ø§Ù…ØªØ«Ø§Ù„"],
        study:"Ù¤â€“Ù¥ Ø³Ù†ÙˆØ§Øª + ØªØ¯Ø±ÙŠØ¨.",
        coreCourses:["Ù‚Ø§Ù†ÙˆÙ† Ù…Ø¯Ù†ÙŠ","Ø¬Ù†Ø§Ø¦ÙŠ","ØªØ¬Ø§Ø±ÙŠ","Ø¯Ø³ØªÙˆØ±ÙŠ"],
        pros:["ØªÙ†ÙˆØ¹ ØªØ®ØµØµØ§Øª","Ø£Ø«Ø± Ù…Ø¬ØªÙ…Ø¹ÙŠ"],
        cons:["Ø­ÙØ¬Ø§Ø¬ ÙˆØ¶ØºØ·","Ù‚Ø±Ø§Ø¡Ø© Ù…ÙƒØ«ÙØ©"],
        tips:"Ø¹ÙŠØ§Ø¯Ø§Øª Ù‚Ø§Ù†ÙˆÙ†ÙŠØ© ÙˆÙ…Ø³Ø§Ø¨Ù‚Ø§Øª Ù…Ø±Ø§ÙØ¹Ø©."
      },
      { id:"design", name:"ØªØµÙ…ÙŠÙ… Ø¬Ø±Ø§ÙÙŠÙƒ",
        weights:{math:.05,tech:.4,bio:.05,literature:.2,design:1,people:.4,business:.3,longStudy:.5,salary:.5,creative:1},
        summary:"Ù‡ÙˆÙŠØ© Ø¨ØµØ±ÙŠØ© ÙˆØªÙˆØ§ØµÙ„ Ø¨ØµØ±ÙŠ.",
        branches:BRANCHES.design,
        branchesNote:"Ø§Ù„Ù‡ÙˆÙŠØ© Ù„Ù„Ø¹Ù„Ø§Ù…Ø§ØªØŒ ÙˆØ§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª Ù„Ù„ØªØ¬Ø±Ø¨Ø©ØŒ ÙˆØ§Ù„Ø­Ù…Ù„Ø§Øª Ù„Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ù…Ø±Ø¦ÙŠ.",
        skills:["Ù†Ø¸Ø±ÙŠØ§Øª ØªØµÙ…ÙŠÙ…","Ø£Ø¯ÙˆØ§Øª ØªØµÙ…ÙŠÙ…","ØªÙÙƒÙŠØ± Ø¨ØµØ±ÙŠ"],
        careers:["Ù…ØµÙ…Ù… Ø¬Ø±Ø§ÙÙŠÙƒ","Ù…Ø®Ø±Ø¬ ÙÙ†ÙŠ","ÙˆØ§Ø¬Ù‡Ø§Øª"],
        study:"Ù¤ Ø³Ù†ÙˆØ§Øª Ø£Ùˆ Ø¯ÙˆØ±Ø§Øª Ù…ÙƒØ«ÙØ©.",
        coreCourses:["Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„ØªØµÙ…ÙŠÙ…","Ø·Ø¨Ø§Ø¹Ø©","Ø¹Ù„Ø§Ù…Ø© ØªØ¬Ø§Ø±ÙŠØ©","ÙˆØ§Ø¬Ù‡Ø§Øª"],
        pros:["Ø¥Ø¨Ø¯Ø§Ø¹ ÙˆØ­Ø±ÙŠØ© ÙÙ†ÙŠØ©","ÙØ±Øµ Ø¹Ù…Ù„ Ø­Ø±"],
        cons:["Ù…Ù†Ø§ÙØ³Ø© Ø¹Ø§Ù„ÙŠØ©","Ø°Ø§Ø¦Ù‚Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ù…ØªÙØ§ÙˆØªØ©"],
        tips:"Ø¨ÙˆØ±ØªÙÙˆÙ„ÙŠÙˆ ÙˆDribbble/Behance."
      },
      { id:"arch", name:"Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©",
        weights:{math:.7,tech:.4,bio:.05,literature:.2,design:.7,people:.4,business:.3,longStudy:.6,salary:.7,creative:.8},
        summary:"ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ ÙˆØ§Ù„Ù…Ø³Ø§Ø­Ø§Øª.",
        branches:BRANCHES.arch,
        branchesNote:"Ø§Ù„ØªØµÙ…ÙŠÙ… Ù„Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ØŒ ÙˆØ§Ù„ØªØ®Ø·ÙŠØ· Ù„Ù„Ù…Ù†Ø§Ø·Ù‚ØŒ ÙˆØ§Ù„Ø¯Ø§Ø®Ù„ÙŠ Ù„Ù„ÙØ±Ø§ØºØ§Øª.",
        skills:["Ø±Ø³Ù… Ù…Ø¹Ù…Ø§Ø±ÙŠ","Ù†Ù…Ø°Ø¬Ø©","Ø¥Ø®Ø±Ø§Ø¬ Ù…Ø¹Ù…Ø§Ø±ÙŠ"],
        careers:["Ù…Ø¹Ù…Ø§Ø±ÙŠ","Ù…Ø®Ø·Ø· Ø­Ø¶Ø±ÙŠ","Ù…ØµÙ…Ù… Ø¯Ø§Ø®Ù„ÙŠ"],
        study:"Ù¥ Ø³Ù†ÙˆØ§Øª + ØªØ¯Ø±ÙŠØ¨.",
        coreCourses:["ØªØµÙ…ÙŠÙ… Ù…Ø¹Ù…Ø§Ø±ÙŠ","Ø¥Ù†Ø´Ø§Ø¡Ø§Øª","ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¹Ù…Ø§Ø±Ø©","Ø§Ø³ØªØ¯Ø§Ù…Ø©"],
        pros:["Ø¯Ù…Ø¬ Ø§Ù„ÙÙ† Ø¨Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©","Ø£Ø«Ø± Ø¨ØµØ±ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¯Ù†"],
        cons:["Ø³Ø§Ø¹Ø§Øª Ø§Ø³ØªÙˆØ¯ÙŠÙˆ Ø·ÙˆÙŠÙ„Ø©","Ø¨Ø±Ø§Ù…Ø¬ Ø«Ù‚ÙŠÙ„Ø©"],
        tips:"ÙˆØ«Ù‘Ù‚ Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø§Ø³ØªØ¯ÙŠÙˆ Ø¨Ù…Ø­ÙØ¸Ø© Ø±Ù‚Ù…ÙŠØ©."
      },
      { id:"ds", name:"Ø¹Ù„ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª",
        weights:{math:.8,tech:.8,bio:.2,literature:.2,design:.2,people:.3,business:.4,longStudy:.6,salary:.85,creative:.4},
        summary:"ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ¨Ù†Ø§Ø¡ Ù†Ù…Ø§Ø°Ø¬ Ù„Ù„ØªÙ†Ø¨Ø¤.",
        branches:BRANCHES.ds,
        branchesNote:"Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ù„Ù„Ø§Ø³ØªØ¨ØµØ§Ø±ØŒ Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ø¢Ù„ÙŠ Ù„Ù„Ù†Ù…Ø°Ø¬Ø©ØŒ ÙˆØ§Ù„Ù‡Ù†Ø¯Ø³Ø© Ù„Ù„Ø¨Ù†ÙŠØ©.",
        skills:["Ø¥Ø­ØµØ§Ø¡","Ø¨Ø±Ù…Ø¬Ø©","ØªØ¹Ù„Ù… Ø¢Ù„ÙŠ"],
        careers:["Ø¹Ø§Ù„Ù… Ø¨ÙŠØ§Ù†Ø§Øª","Ù…Ø­Ù„Ù„ Ø¨ÙŠØ§Ù†Ø§Øª","Ù…Ù‡Ù†Ø¯Ø³ Ø¨ÙŠØ§Ù†Ø§Øª"],
        study:"Ù¤ Ø³Ù†ÙˆØ§Øª + Ù…Ø´Ø§Ø±ÙŠØ¹.",
        coreCourses:["Ø§Ø­ØªÙ…Ø§Ù„Ø§Øª","Ø¥Ø­ØµØ§Ø¡","ØªØ¹Ù„Ù… Ø¢Ù„ÙŠ","ØªØµÙˆØ± Ø¨ÙŠØ§Ù†Ø§Øª"],
        pros:["Ø±ÙˆØ§ØªØ¨ Ø¬ÙŠØ¯Ø©","Ø·Ù„Ø¨ Ù…ØªØ²Ø§ÙŠØ¯"],
        cons:["Ø­Ø§Ø¬Ø© Ù„Ø®Ø¨Ø±Ø© Ù…Ø¬Ø§Ù„","ØªÙ†Ø¸ÙŠÙ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø±Ù‡Ù‚"],
        tips:"Kaggle ÙˆÙ…Ø´Ø§Ø±ÙŠØ¹ ÙˆØ§Ù‚Ø¹ÙŠØ©."
      },
      { id:"psy", name:"Ø¹Ù„Ù… Ø§Ù„Ù†ÙØ³",
        weights:{math:.15,tech:.1,bio:.4,literature:.5,design:.05,people:.8,business:.3,longStudy:.6,salary:.55,creative:.4},
        summary:"ÙÙ‡Ù… Ø§Ù„Ø³Ù„ÙˆÙƒ Ø§Ù„Ø¨Ø´Ø±ÙŠ ÙˆØ§Ù„ØµØ­Ø© Ø§Ù„Ù†ÙØ³ÙŠØ©.",
        branches:BRANCHES.psy,
        branchesNote:"Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯ Ù„Ù„Ø¯Ø¹Ù…ØŒ Ø§Ù„ØªØ±Ø¨ÙˆÙŠ Ù„Ù„ØªØ¹Ù„ÙŠÙ…ØŒ Ø§Ù„Ø¥ÙƒÙ„ÙŠÙ†ÙŠÙƒÙŠ Ù„Ù„Ø¹Ù„Ø§Ø¬.",
        skills:["Ø¨Ø­Ø«","Ø§Ø³ØªÙ…Ø§Ø¹ Ù†Ø´Ø·","Ø£Ø®Ù„Ø§Ù‚ÙŠØ§Øª"],
        careers:["Ø£Ø®ØµØ§Ø¦ÙŠ Ù†ÙØ³ÙŠ","Ø¥Ø±Ø´Ø§Ø¯","Ø¨Ø­Ø«"],
        study:"Ù¤ Ø³Ù†ÙˆØ§Øª + ØªØ±Ø®ÙŠØµ.",
        coreCourses:["Ù…Ø¯Ø®Ù„ Ø¹Ù„Ù… Ø§Ù„Ù†ÙØ³","Ø¹Ù„Ù… Ù†ÙØ³ Ù†Ù…Ùˆ","Ù‚ÙŠØ§Ø³ ÙˆØªÙ‚ÙˆÙŠÙ…","Ø¥Ø±Ø´Ø§Ø¯"],
        pros:["Ø£Ø«Ø± Ø¥Ù†Ø³Ø§Ù†ÙŠ Ø¹Ù…ÙŠÙ‚","Ù…Ø¬Ø§Ù„Ø§Øª Ø§Ø³ØªØ´Ø§Ø±ÙŠØ©"],
        cons:["ØªØ±Ø®ÙŠØµ ØµØ§Ø±Ù…","ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø­Ø§Ù„Ø§Øª Ø­Ø³Ø§Ø³Ø©"],
        tips:"Ø³Ø§Ø¹Ø§Øª Ø¥Ø´Ø±Ø§ÙÙŠØ© ÙˆÙ…Ø¨Ø§Ø¯Ø±Ø§Øª Ø¯Ø¹Ù…."
      }
    ];

    const STORAGE_KEY="major-chooser-pro-plus-v1";
    let answers=readState("answers") || Object.fromEntries(QUESTIONS.map(q=>[q.key,5]));
    let compareIds=readState("compare") || [];
    let plan=readState("plan") || [];
    function readState(k){ try{return JSON.parse(localStorage.getItem(STORAGE_KEY+"::"+k)||"null")}catch{return null} }
    function writeState(k,v){ try{localStorage.setItem(STORAGE_KEY+"::"+k,JSON.stringify(v))}catch{} }

    function computeScores(a){
      return MAJORS.map(m=>{
        const sumW=Object.values(m.weights).reduce((x,y)=>x+y,0);
        let acc=0; for(const k in m.weights){ acc+=((a[k]||0)/10)*m.weights[k]; }
        const score=(acc/sumW)*100;
        return {id:m.id,name:m.name,score,ref:m};
      }).sort((x,y)=>y.score-x.score).map((x,i)=>({...x,rank:i+1}));
    }

    const qRoot=document.getElementById("questions");
    const topRoot=document.getElementById("topResults");
    const chartRoot=document.getElementById("chart");
    const compareRoot=document.getElementById("compareRoot");
    const clearCompareBtn=document.getElementById("clearCompare");
    const search=document.getElementById("search");
    const startBtn=document.getElementById("startBtn");
    const shareBtn=document.getElementById("shareBtn");
    const modal=document.getElementById("modal");
    const closeModal=document.getElementById("closeModal");
    const darkToggle=document.getElementById("darkToggle");
    const neutralToggle=document.getElementById("neutralToggle");

    function iconCardHTML(id,label,small){
      const {emoji,grad}=ICONS[id]||{emoji:"ğŸ“",grad:["#6366f1","#8b5cf6"]};
      return `
        <div class="iconCard" style="background:linear-gradient(135deg,${grad[0]},${grad[1]})">
          <svg class="svgbg" viewBox="0 0 200 100" preserveAspectRatio="none">
            <circle cx="40" cy="30" r="40" fill="#fff"/><rect x="110" y="-10" width="120" height="120" fill="#fff"/>
          </svg>
          <div>${emoji}</div>
          ${small?`<small>${small}</small>`:""}
        </div>`;
    }

    function renderQuestions(){
      qRoot.innerHTML="";
      QUESTIONS.forEach(q=>{
        const v=answers[q.key];
        const el=document.createElement("div");
        el.className="card p-4";
        el.innerHTML=`
          <div class="mb-3 flex items-center justify-between">
            <div class="font-medium">${q.title}</div>
            <span class="badge font-mono">${v}</span>
          </div>
          <input type="range" min="0" max="10" step="1" value="${v}" class="w-full">
        `;
        el.querySelector("input").addEventListener("input",e=>{
          answers[q.key]=Number(e.target.value);
          writeState("answers",answers);
          el.querySelector(".badge").textContent=answers[q.key];
          renderResults();
        });
        qRoot.appendChild(el);
      });
    }

    function renderResults(){
      const results=computeScores(answers);
      const top=results.slice(0,3);

      topRoot.innerHTML="";
      top.forEach(r=>{
        const c=document.createElement("div");
        c.className="card overflow-hidden";
        c.innerHTML=`
          ${iconCardHTML(r.id,r.name,"Ø§Ù„Ø£ÙØ¶Ù„ #"+r.rank)}
          <div class="p-4">
            <div class="text-sm muted mb-2"><b>${r.name}</b> â€” ${r.ref.summary}</div>
            <div class="text-xs mb-1"><b>Ø§Ù„ÙØ±ÙˆØ¹:</b> ${(r.ref.branches||[]).join("ØŒ ")}.</div>
            <div class="text-xs muted mb-2">${r.ref.branchesNote||""}</div>
            <div class="bar mb-1"><div style="width:${Math.round(r.score)}%"></div></div>
            <div class="flex justify-between text-xs muted">
              <span>Ø§Ù„Ù…Ù„Ø§Ø¡Ù…Ø©</span><span class="font-semibold">${Math.round(r.score)}%</span>
            </div>
            <div class="flex flex-wrap gap-2 mt-2">
              ${r.ref.skills.slice(0,3).map(s=>`<span class="pill">${s}</span>`).join("")}
            </div>
            <div class="mt-3 flex gap-2">
              <button class="btn" data-add="${r.id}">â• Ø£Ø¶ÙÙ Ù„Ù„Ù…Ù‚Ø§Ø±Ù†Ø©</button>
              <button class="btn btn-neutral" data-details="${r.id}">ØªÙØ§ØµÙŠÙ„ Ø£ÙƒØ«Ø±</button>
            </div>
          </div>
        `;
        c.querySelector(`[data-add="${r.id}"]`).addEventListener("click",()=>{
          if(!compareIds.includes(r.id)){ compareIds.push(r.id); writeState("compare",compareIds); }
          renderCompare();
          renderGraduateTools();
        });
        c.querySelector(`[data-details="${r.id}"]`).addEventListener("click",()=>openModal(r.ref));
        topRoot.appendChild(c);
      });

      chartRoot.innerHTML="";
      results.slice(0,6).forEach(r=>{
        const row=document.createElement("div");
        row.className="card p-3";
        row.innerHTML=`
          <div class="flex items-center justify-between mb-2">
            <div class="text-sm"><b>${r.name}</b></div>
            <div class="pill">${Math.round(r.score)}%</div>
          </div>
          <div class="bar"><div style="width:${Math.round(r.score)}%"></div></div>
        `;
        chartRoot.appendChild(row);
      });

      renderGuide();
      renderCompare();
      renderGraduateTools();
    }

    function renderCompare(){
      const results=computeScores(answers);
      const selected=MAJORS.filter(m=>compareIds.includes(m.id));
      if(!selected.length){ compareRoot.textContent="Ø£Ø¶ÙÙ ØªØ®ØµÙ‘ØµØ§Øª Ù…Ù† Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø£Ùˆ Ø§Ù„Ø¯Ù„ÙŠÙ„ Ù„Ù…Ù‚Ø§Ø±Ù†ØªÙ‡Ø§ Ù‡Ù†Ø§."; return; }
      compareRoot.innerHTML="";
      const grid=document.createElement("div");
      grid.className="grid gap-3 sm:grid-cols-2 md:grid-cols-3";
      selected.forEach(m=>{
        const r=results.find(x=>x.id===m.id);
        const box=document.createElement("div");
        box.className="card p-4 text-sm";
        box.innerHTML=`
          ${iconCardHTML(m.id,m.name,"Ù„Ù„Ù…Ù‚Ø§Ø±Ù†Ø©")}
          <div class="mt-2 font-semibold"><b>${m.name}</b></div>
          <div class="text-xs">Ø§Ù„ÙØ±ÙˆØ¹: ${(m.branches||[]).join("ØŒ ")}</div>
          <div class="bar my-1"><div style="width:${Math.round(r.score)}%"></div></div>
          <div class="text-xs mb-2 muted">Ø§Ù„Ù…Ù„Ø§Ø¡Ù…Ø©: <b>${Math.round(r.score)}%</b></div>
          <ul class="list-disc list-inside text-slate-600 space-y-1">
            <li><b>Ù…Ù‡Ø§Ø±Ø§Øª:</b> ${m.skills.slice(0,3).join("ØŒ ")}</li>
            <li><b>ÙØ±Øµ:</b> ${m.careers.slice(0,2).join("ØŒ ")}</li>
            <li><b>Ù…Ù…ÙŠØ²Ø§Øª:</b> ${(m.pros||[]).slice(0,2).join("ØŒ ")}</li>
          </ul>
          <div class="mt-2">
            <button class="btn-ghost text-xs" data-remove="${m.id}">Ø¥Ø²Ø§Ù„Ø©</button>
          </div>
        `;
        box.querySelector(`[data-remove="${m.id}"]`).addEventListener("click",()=>{
          compareIds=compareIds.filter(x=>x!==m.id);
          writeState("compare",compareIds);
          renderCompare(); renderGraduateTools();
        });
        grid.appendChild(box);
      });
      compareRoot.appendChild(grid);
    }
    document.getElementById("clearCompare").addEventListener("click",()=>{ compareIds=[]; writeState("compare",compareIds); renderCompare(); renderGraduateTools(); });

    function valueFitBadges(m){
      const map={salary:"ğŸ’° Ø§Ù„Ø§Ø³ØªÙ‚Ø±Ø§Ø±", creative:"âœ¨ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹", people:"ğŸ¤ Ø§Ù„ØªØ¹Ø§Ù…Ù„", longStudy:"ğŸ“ Ø¯Ø±Ø§Ø³Ø© Ø·ÙˆÙŠÙ„Ø©"};
      const pairs=Object.entries(m.weights).filter(([k])=>map[k]).sort((a,b)=>b[1]-a[1]).slice(0,3);
      return pairs.map(([k,v])=>`<span class="pill">${map[k]}: ${(v*10).toFixed(0)}/10</span>`).join("");
    }
    function renderGuide(){
      const q=(search.value||"").trim().toLowerCase();
      const root=document.getElementById("guide");
      root.innerHTML="";
      MAJORS.filter(m=>{
        if(!q) return true;
        const blob=[m.name,m.summary,(m.branches||[]).join(" "),m.branchesNote||"",...m.skills,...m.careers,...(m.coreCourses||[]),(ICONS[m.id]?.emoji||"")].join(" ").toLowerCase();
        return blob.includes(q) || (q==="ğŸ©º" && m.id==="med") || (q==="ğŸ’»" && m.id==="cs");
      }).forEach(m=>{
        const c=document.createElement("div");
        c.className="card overflow-hidden";
        c.innerHTML=`
          ${iconCardHTML(m.id,m.name,"Ø§Ø³ØªÙƒØ´Ù")}
          <div class="p-4 text-sm space-y-2">
            <div><b>${m.name}</b> â€” ${m.summary}</div>
            <div class="text-xs"><b>Ø§Ù„ÙØ±ÙˆØ¹:</b> ${(m.branches||[]).join("ØŒ ")}</div>
            <div class="text-xs muted">${m.branchesNote||""}</div>
            <div class="flex flex-wrap gap-2">${m.skills.map(s=>`<span class="pill">${s}</span>`).join("")}</div>
            <div class="text-xs"><b>Ù…ÙˆØ§Ø¯ Ø£Ø³Ø§Ø³ÙŠØ©:</b> ${m.coreCourses.join("ØŒ ")}</div>
            <div class="text-xs"><b>Ù…Ø¬Ø§Ù„Ø§Øª Ø¹Ù…Ù„:</b> ${m.careers.join("ØŒ ")}</div>
            <div class="text-xs"><b>Ù…Ø³Ø§Ø± Ø§Ù„Ø¯Ø±Ø§Ø³Ø©:</b> ${m.study}</div>
            <div class="flex flex-wrap gap-2 pt-1">${valueFitBadges(m)}</div>
            <div class="pt-1">
              <button class="btn btn-neutral" data-details="${m.id}">ØªÙØ§ØµÙŠÙ„ Ø£ÙƒØ«Ø±</button>
              <button class="btn" data-add="${m.id}">â• Ø£Ø¶ÙÙ Ù„Ù„Ù…Ù‚Ø§Ø±Ù†Ø©</button>
            </div>
          </div>
        `;
        c.querySelector(`[data-details="${m.id}"]`).addEventListener("click",()=>openModal(m));
        c.querySelector(`[data-add="${m.id}"]`).addEventListener("click",()=>{
          if(!compareIds.includes(m.id)){ compareIds.push(m.id); writeState("compare",compareIds); }
          renderCompare(); renderGraduateTools();
        });
        root.appendChild(c);
      });
    }

    function openModal(m){
      const g=ICONS[m.id]?.grad||["#6366f1","#8b5cf6"];
      document.getElementById("modalIcon").style.background=`linear-gradient(135deg,${g[0]},${g[1]})`;
      document.getElementById("modalEmoji").textContent=(ICONS[m.id]||{}).emoji||"ğŸ“";
      document.getElementById("modalTitle").textContent=m.name;
      document.getElementById("mName").innerHTML = "<b>"+m.name+"</b>";
      document.getElementById("mSummary").textContent=m.summary;
      document.getElementById("mSkills").textContent=m.skills.join("ØŒ ");
      document.getElementById("mCourses").textContent=(m.coreCourses||[]).join("ØŒ ");
      document.getElementById("mCoursesWrap").style.display=m.coreCourses?.length?"block":"none";
      document.getElementById("mCareers").textContent=m.careers.join("ØŒ ");
      document.getElementById("mStudy").textContent=m.study;
      document.getElementById("mPros").innerHTML="<b>Ù…Ù…ÙŠØ²Ø§Øª</b><ul class='list-disc list-inside mt-1'>"+(m.pros||[]).map(x=>`<li>${x}</li>`).join("")+"</ul>";
      document.getElementById("mCons").innerHTML="<b>ØªØ­Ø¯ÙŠØ§Øª</b><ul class='list-disc list-inside mt-1'>"+(m.cons||[]).map(x=>`<li>${x}</li>`).join("")+"</ul>";
      const b=(m.branches||[]).map(x=>"â€¢ "+x).join(" â€” ");
      document.getElementById("mBranches").textContent=b;
      document.getElementById("mBranchesWrap").style.display=(m.branches&&m.branches.length)?"block":"none";
      document.getElementById("mTips").innerHTML="<b>Ù†ØµÙŠØ­Ø©:</b> "+(m.tips||"");
      modal.classList.remove("hidden"); modal.classList.add("flex");
    }
    closeModal.addEventListener("click",()=>{ modal.classList.add("hidden"); modal.classList.remove("flex"); });
    modal.addEventListener("click",e=>{ if(e.target===modal){ closeModal.click(); } });

    const KEYWORDS={
      cs:["Software Development","Algorithms","Data Structures","APIs","Git","REST","React/Flutter","SQL/NoSQL","Unit Testing","CI/CD"],
      eng:["Modeling","CAD","Simulation","Thermodynamics","Materials","Lean","Six Sigma","Design for Manufacturing"],
      med:["Clinical Skills","Patient Care","Diagnosis","EMR","Case Presentation","Teamwork","Medical Ethics"],
      pharm:["Pharmacology","Clinical Pharmacy","Dispensing","Drug Safety","Compounding","Patient Counseling"],
      biz:["Strategy","Marketing","Market Research","Excel","Financial Modeling","Product Management","OKRs"],
      acct:["Financial Reporting","Auditing","Tax","Budgeting","IFRS","Cost Analysis","Reconciliation"],
      lit:["Creative Writing","Editing","Proofreading","Research","Copywriting","Communication"],
      law:["Contracts","Compliance","Legal Research","Negotiation","Policy","Due Diligence"],
      design:["Brand Identity","Typography","Layout","UX/UI","Prototyping","Figma/Adobe"],
      arch:["Architectural Design","BIM","3D Modeling","Rendering","Sustainability","Site Analysis"],
      ds:["Statistics","Machine Learning","Python/R","Data Cleaning","Visualization","A/B Testing"],
      psy:["Counseling","Assessment","Behavioral Analysis","Report Writing","Communication","Ethics"]
    };

    const PROJECTS={
      cs:["ØªØ·Ø¨ÙŠÙ‚ Ù…Ù‡Ø§Ù… Ø¨ÙˆØ§Ø¬Ù‡Ø© Ø¬Ù…ÙŠÙ„Ø© + Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø­Ù„ÙŠØ©","API ØµØºÙŠØ± Ù…Ø¹ ØªÙˆØ«ÙŠÙ‚ Swagger","Ù„ÙˆØ­Ø© Ø¨ÙŠØ§Ù†Ø§Øª ØªÙØ§Ø¹Ù„ÙŠØ© Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ø§Ù…Ø©"],
      eng:["ØªØµÙ…ÙŠÙ… Ø°Ø±Ø§Ø¹ Ø¢Ù„ÙŠ Ø¨Ø³ÙŠØ· ÙˆÙ…Ø­Ø§ÙƒØ§ØªÙ‡","Ù†Ù…ÙˆØ°Ø¬ Ø«Ù„Ø§Ø«ÙŠ Ù„Ù‚Ø·Ø¹Ø© Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ© Ù…Ø¹ ØªÙ‚Ø±ÙŠØ± ØªØµÙ†ÙŠØ¹","ØªØ­Ø³ÙŠÙ† Ø¹Ù…Ù„ÙŠØ© Ø¥Ù†ØªØ§Ø¬ Ø¨Ø£Ø¯ÙˆØ§Øª Lean"],
      med:["Ù…Ù„Ø®Øµ Ø­Ø§Ù„Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù…Ø¹ ØªØ¯ÙÙ‘Ù‚ Ù‚Ø±Ø§Ø±","ÙƒØªÙŠÙ‘Ø¨ ØªÙˆØ¹ÙŠØ© ØµØ­ÙŠØ© Ù„Ù…ÙˆØ¶ÙˆØ¹ Ù…Ø­Ø¯Ø¯","Ø¹Ø±Ø¶ ØªÙ‚Ø¯ÙŠÙ…ÙŠ Ø¹Ù† Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ø¹Ù„Ø§Ø¬ÙŠØ©"],
      pharm:["Ù†Ø´Ø±Ø© Ø¯ÙˆØ§Ø¦ÙŠØ© Ù…Ø¨Ø³Ø·Ø©","Ù…Ù‚Ø§Ø±Ù†Ø© Ø£Ø´ÙƒØ§Ù„ ØµÙŠØ¯Ù„Ø§Ù†ÙŠØ© ÙˆØªØ£Ø«ÙŠØ±Ù‡Ø§","Sheet Ù„Ù„ØªØ¯Ø§Ø®Ù„Ø§Øª Ø§Ù„Ø¯ÙˆØ§Ø¦ÙŠØ©"],
      biz:["ØªØ­Ù„ÙŠÙ„ Ø³ÙˆÙ‚ + Ø®Ø·Ø© ØªØ³ÙˆÙŠÙ‚","Dashboard Ù…Ù‚Ø§ÙŠÙŠØ³ Ù„Ø¹Ù…ÙŠÙ„ Ø§ÙØªØ±Ø§Ø¶ÙŠ","Case Study Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ù…Ø®ØªØµØ±Ø©"],
      acct:["Ù‚Ø§Ø¦Ù…Ø© Ø¯Ø®Ù„ ÙˆÙ…ÙŠØ²Ø§Ù†ÙŠØ© Ù„Ø´Ø±ÙƒØ© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©","Ù„ÙˆØ­Ø© ØªØªØ¨Ø¹ Ù…ØµØ±ÙˆÙØ§Øª Ø´Ù‡Ø±ÙŠØ©","Template IFRS Ù„Ù…Ø¤Ø³Ø³Ø© ØµØºÙŠØ±Ø©"],
      lit:["Ù…Ù‚Ø§Ù„ ØªØ­Ù„ÙŠÙ„ÙŠ Ø·ÙˆÙŠÙ„","Ø¯Ù„ÙŠÙ„ Ø£Ø³Ù„ÙˆØ¨ ØªØ­Ø±ÙŠØ± Ù„Ù„Ø³ÙˆØ´Ø§Ù„","Ø³Ù„Ø³Ù„Ø© Ù†Ù‚Ø¯ Ù‚ØµÙŠØ±Ø©"],
      law:["Ù…Ù„Ø®Øµ Ø¹Ù‚ÙˆØ¯ Ø´Ø§Ø¦Ø¹Ø© Ù…Ø¹ Ø´Ø±ÙˆØ­","Ø¯Ù„ÙŠÙ„ Ø§Ù…ØªØ«Ø§Ù„ Ù„Ø´Ø±ÙƒØ© Ù†Ø§Ø´Ø¦Ø©","Ù…Ø°ÙƒØ±Ø© Ù‚Ø§Ù†ÙˆÙ†ÙŠØ© Ù†Ù…ÙˆØ°Ø¬ÙŠØ©"],
      design:["Ù‡ÙˆÙŠØ© Ø¨ØµØ±ÙŠØ© Ù„Ù…Ø¨Ø§Ø¯Ø±Ø©","Ù†Ù…ÙˆØ°Ø¬ ÙˆØ§Ø¬Ù‡Ø© (Figma)","Ù…Ù„ØµÙ‚Ø§Øª Ù„Ø­Ù…Ù„Ø©"],
      arch:["Concept Ù„Ù…Ø³Ø§Ø­Ø© Ø¹Ø§Ù…Ø© + Ù…Ø®Ø·Ø·","Ù…Ø´Ø±ÙˆØ¹ Ø¥Ø³ÙƒØ§Ù† ØµØºÙŠØ±","Ù„ÙˆØ­Ø© ØªØµÙˆØ± Ø­Ø¶Ø±ÙŠ"],
      ds:["ØªØ­Ù„ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ù…ÙØªÙˆØ­Ø© + ØªÙ‚Ø±ÙŠØ±","Ù†Ù…ÙˆØ°Ø¬ ØªÙ†Ø¨Ø¤ + ØªÙ‚ÙŠÙŠÙ…","Ù„ÙˆØ­Ø© ØªÙØ§Ø¹Ù„ÙŠØ© Ù„Ù…Ø¯ÙŠÙ†Ø©/Ø±ÙŠØ§Ø¶Ø©"],
      psy:["Ø¯Ù„ÙŠÙ„ Ù…Ù‡Ø§Ø±Ø§Øª ØªÙˆØ§ØµÙ„","Ù†Ø´Ø±Ø© ØªÙˆØ¹ÙˆÙŠØ© ØµØ­ÙŠØ©","Ø®Ø·Ø© ØªØ¯Ø®Ù„ Ø³Ù„ÙˆÙƒÙŠ"]
    };

    function defaultPlan(topIds){
      const base=[
        {id:"w1", text:"ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³ÙŠØ±Ø© ÙˆLinkedIn Ø¨ØµÙŠØºØ© Ø­Ø¯ÙŠØ«Ø©", done:false},
        {id:"w2", text:"ØªØ¬Ù‡ÙŠØ² Cover Letter Ø¹Ø§Ù…Ø©", done:false},
        {id:"topx", text:(()=>{const top=topIds[0]||"cs"; const map={
          cs:"Ù†Ø´Ø± Ù…Ø´Ø±ÙˆØ¹ Ø¨Ø±Ù…Ø¬ÙŠ Ø¹Ù„Ù‰ GitHub Ù…Ø¹ README",
          ds:"Ù†Ø´Ø± ØªØ­Ù„ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹ Notebook",
          design:"Ø±ÙØ¹ Ù†Ù…ÙˆØ°Ø¬ ÙˆØ§Ø¬Ù‡Ø© Ø¹Ù„Ù‰ Behance",
          biz:"Ø¨Ù†Ø§Ø¡ Ù„ÙˆØ­Ø© KPIs Ù„Ù…Ø¬Ø§Ù„ ØªÙ‡ØªÙ… Ø¨Ù‡",
          eng:"Ù†Ø´Ø± ØªÙ‚Ø±ÙŠØ± ØªØµÙ…ÙŠÙ…/Ù…Ø­Ø§ÙƒØ§Ø©",
          med:"ØªÙ„Ø®ÙŠØµ Ø­Ø§Ù„Ø© Ø·Ø¨ÙŠØ© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©",
          pharm:"Ø¥Ø¹Ø¯Ø§Ø¯ Ù†Ø´Ø±Ø© Ø¯ÙˆØ§Ø¦ÙŠØ© Ù…Ø¨Ø³Ø·Ø©",
          acct:"ØªØµÙ…ÙŠÙ… Template ØªÙ‚Ø§Ø±ÙŠØ± Ù…Ø§Ù„ÙŠØ©",
          law:"ØµÙŠØ§ØºØ© Ø¹Ù‚Ø¯ Ù†Ù…ÙˆØ°Ø¬ÙŠ ÙˆØªØ¹Ù„ÙŠÙ‚Ø§Øª",
          lit:"Ù†Ø´Ø± Ù…Ù‚Ø§Ù„Ø© Ø·ÙˆÙŠÙ„Ø© Ø¨Ø¬ÙˆØ¯Ø© Ù…Ø¬Ù„Ø©",
          arch:"Concept Ù…Ø¹Ù…Ø§Ø±ÙŠ Ù…Ø¹ Ø±Ù†Ø¯Ø±Ø©",
          psy:"Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ ØªØ¯Ø®Ù„ Ø³Ù„ÙˆÙƒÙŠ ØªØ¹Ù„ÙŠÙ…ÙŠ"
        }; return map[top] || "Ø¥Ù†Ø¬Ø§Ø² Ù…Ø´Ø±ÙˆØ¹ Ù…ØµØºØ± Ù…Ø±ØªØ¨Ø· Ø¨ØªØ®ØµØµÙƒ ÙˆÙ†Ø´Ø±Ù‡";})(), done:false},
        {id:"w3", text:"Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ø¹Ù„Ù‰ 5 ÙØ±Øµ Ø®Ù„Ø§Ù„ Ø£Ø³Ø¨ÙˆØ¹", done:false},
        {id:"w4", text:"ØªÙ…Ø§Ø±ÙŠÙ† Ù…Ù‚Ø§Ø¨Ù„Ø§Øª Ù…Ø¹ ØµØ¯ÙŠÙ‚", done:false},
        {id:"w5", text:"Ø­Ø¶ÙˆØ± ÙØ¹Ø§Ù„ÙŠØ©/Ù…Ù„ØªÙ‚Ù‰ ÙˆØ§Ø­Ø¯", done:false},
        {id:"w6", text:"Ø¥Ø¶Ø§ÙØ© Ù…Ø´Ø±ÙˆØ¹ Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ù€ Portfolio", done:false},
        {id:"w7", text:"ØªÙˆØ§ØµÙ„ Ù…Ø¹ 3 Ø£Ø´Ø®Ø§Øµ Ø¨Ø§Ù„Ù…Ø¬Ø§Ù„", done:false},
        {id:"w8", text:"ØªØ¹Ù„Ù… Ù…Ù‡Ø§Ø±Ø© ØµØºÙŠØ±Ø© Ù…ÙƒÙ…Ù„Ø©", done:false},
        {id:"w9", text:"Ø¥Ø±Ø³Ø§Ù„ 10 Ø·Ù„Ø¨Ø§Øª Ù…ÙˆØ¬Ù‡Ø© + Ù…ØªØ§Ø¨Ø¹Ø©", done:false},
      ];
      return base;
    }

    const INTERVIEW_QS = {
      cs:["Ø§Ø­ÙƒÙ Ø¹Ù† Ù…Ø´Ø±ÙˆØ¹ Ø§Ø³ØªØ®Ø¯Ù…Øª ÙÙŠÙ‡ Ù‡ÙŠØ§ÙƒÙ„ Ø¨ÙŠØ§Ù†Ø§Øª.","ÙƒÙŠÙ ØªØ®ØªØ§Ø± Ø¨ÙŠÙ† REST ÙˆGraphQLØŸ","ØªØ­Ø¯Ù‘ÙŠ ÙˆØ§Ø¬Ù‡ØªÙ‡ ÙÙŠ ÙØ±ÙŠÙ‚ ÙˆÙƒÙŠÙ Ø­Ù„Ù„ØªÙ‡ØŸ"],
      eng:["ØµÙ ØªØ¬Ø±Ø¨Ø© Ù†Ù…Ø°Ø¬Ø©/Ù…Ø­Ø§ÙƒØ§Ø© Ù‚Ù…Øª Ø¨Ù‡Ø§.","ÙƒÙŠÙ ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ù‚ÙŠÙˆØ¯ ØªØµÙ†ÙŠØ¹ ÙÙŠ Ø§Ù„ØªØµÙ…ÙŠÙ…ØŸ","Ù…ÙˆÙ‚Ù Ø­Ø³Ù‘Ù†Øª ÙÙŠÙ‡ Ø¹Ù…Ù„ÙŠØ© Ø¥Ù†ØªØ§Ø¬."],
      med:["Ù‚ØµØ© Ø­Ø§Ù„Ø© ØµØ¹Ø¨Ø© ÙˆÙƒÙŠÙ Ø§ØªØ®Ø°Øª Ø§Ù„Ù‚Ø±Ø§Ø±ØŸ","ÙƒÙŠÙ ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¶ØºØ· Ø§Ù„Ù…Ù†Ø§ÙˆØ¨Ø§ØªØŸ","Ø£Ø®Ù„Ø§Ù‚ÙŠØ§Øª Ø§Ù„Ù…Ù‡Ù†Ø© ÙÙŠ Ù…ÙˆÙ‚Ù ÙˆØ§Ù‚Ø¹ÙŠØŸ"],
      pharm:["Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ ØªØ¯Ø§Ø®Ù„ Ø¯ÙˆØ§Ø¦ÙŠ ÙˆÙƒÙŠÙ ØªÙˆØ¹Ù‘ÙŠ Ø§Ù„Ù…Ø±ÙŠØ¶.","Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ ÙˆØµÙØ© ØºÙŠØ± ÙˆØ§Ø¶Ø­Ø©.","ÙƒÙŠÙ ØªØ¶Ù…Ù† Ø¬ÙˆØ¯Ø© Ø§Ù„ØªØ±ÙƒÙŠØ¨Ø§ØªØŸ"],
      biz:["ÙƒÙŠÙ ØªÙ‚ÙŠØ³ Ù†Ø¬Ø§Ø­ Ø­Ù…Ù„Ø© ØªØ³ÙˆÙŠÙ‚ÙŠØ©ØŸ","Ù‚Ø±Ø§Ø± ØªØ¬Ø§Ø±ÙŠ ØµØ¹Ø¨ Ø§ØªØ®Ø°ØªÙ‡.","ØªØ¹Ø§Ù…Ù„Øª Ù…Ø¹ ØªØ¹Ø§Ø±Ø¶ Ø¨ÙŠÙ† ÙØ±Ù‚ ÙƒÙŠÙØŸ"],
      acct:["ÙƒÙŠÙ ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„ÙØ±ÙˆÙ‚Ø§Øª ÙÙŠ Ø§Ù„ØªØ³ÙˆÙŠØ§ØªØŸ","Ø®Ø¨Ø±ØªÙƒ Ù…Ø¹ IFRSØŸ","Ù…ÙˆØ³Ù… Ø§Ù„Ø°Ø±ÙˆØ© ÙƒÙŠÙ ØªØ¯ÙŠØ± Ø§Ù„ÙˆÙ‚ØªØŸ"],
      lit:["ÙƒÙŠÙ ØªØ¨Ù†ÙŠ Ø­Ø¬Ø© Ù†Ù‚Ø¯ÙŠØ© Ù…ØªÙ…Ø§Ø³ÙƒØ©ØŸ","ØªØ¹Ø§Ù…Ù„Øª Ù…Ø¹ Ù†Øµ Ù…ØªØ±Ø¬Ù… ØµØ¹Ø¨ØŸ","Ø£Ø³Ù„ÙˆØ¨Ùƒ ÙÙŠ Ø§Ù„ØªØ­Ø±ÙŠØ±ØŸ"],
      law:["ÙƒÙŠÙ ØªØµÙŠØº Ø¨Ù†Ø¯Ù‹Ø§ ÙŠØ±Ø§Ø¹ÙŠ Ø§Ù„Ù…Ø®Ø§Ø·Ø±ØŸ","Ù…ÙˆÙ‚Ù ØªÙØ§ÙˆØ¶ÙŠ Ù†Ø§Ø¬Ø­.","Ø¥Ø¯Ø§Ø±Ø© ØªØ¶Ø§Ø±Ø¨ Ù…ØµØ§Ù„Ø­ØŸ"],
      design:["Ù†Ù‡Ø¬Ùƒ ÙÙŠ Ø¨Ù†Ø§Ø¡ Ù‡ÙˆÙŠØ© Ø¨ØµØ±ÙŠØ©ØŸ","ÙƒÙŠÙ ØªØ®ØªØ¨Ø± UXØŸ","ØªØ¹Ø§Ù…Ù„Øª Ù…Ø¹ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¹Ù…ÙŠÙ„ Ù…ØªÙ†Ø§Ù‚Ø¶Ø©ØŸ"],
      arch:["ÙƒÙŠÙ ØªÙˆØ§Ø²Ù† Ø¨ÙŠÙ† Ø§Ù„Ø¬Ù…Ø§Ù„ÙŠØ© ÙˆØ§Ù„ÙˆØ¸ÙŠÙÙŠØ©ØŸ","Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ø³ØªØ¯Ø§Ù…Ø© ÙÙŠ Ù…Ø´Ø±ÙˆØ¹.","Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ù…Ø­Ø¯ÙˆØ¯Ø©ØŸ"],
      ds:["Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ù†Ø§Ù‚ØµØ©ØŸ","Ù…ØªÙ‰ ØªØ®ØªØ§Ø± Ù†Ù…ÙˆØ°Ø¬ Ø¨Ø³ÙŠØ·ØŸ","Ù‚ØµØ© Insight Ø£Ø«Ù‘Ø± Ø¹Ù„Ù‰ Ù‚Ø±Ø§Ø±."],
      psy:["Ù…ÙˆÙ‚Ù ØªØ·Ù„Ø¨ ØªØ¹Ø§Ø·Ù ÙˆØ­Ø¯ÙˆØ¯ Ù…Ù‡Ù†ÙŠØ©.","ÙƒÙŠÙ ØªÙ‚ÙŠØ³ Ø£Ø«Ø± ØªØ¯Ø®Ù„ØŸ","Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ù…Ù‚Ø§ÙˆÙ…Ø© Ø§Ù„Ù…Ø³ØªØ±Ø´Ø¯ØŸ"]
    };

    function packState(){
      const data={a:answers,c:compareIds,p:plan};
      return btoa(unescape(encodeURIComponent(JSON.stringify(data))));
    }
    function unpackState(s){
      try{ return JSON.parse(decodeURIComponent(escape(atob(s)))) }catch{return null}
    }

    function renderGraduateTools(){
      const results=computeScores(answers); const top=results.slice(0,3).map(r=>r.id);

      const kwRoot=document.getElementById("cvKeywords"); kwRoot.innerHTML="";
      const set=new Set();
      top.forEach(id=>(KEYWORDS[id]||[]).forEach(k=>set.add(k)));
      if(set.size===0) "Communication, Teamwork, Problem Solving".split(", ").forEach(k=>set.add(k));
      [...set].slice(0,30).forEach(k=>{
        const pill=document.createElement("span"); pill.className="pill"; pill.textContent=k; kwRoot.appendChild(pill);
      });
      document.getElementById("copyKeywordsBtn").onclick=()=>{
        const text=[...kwRoot.querySelectorAll(".pill")].map(x=>x.textContent).join(", ");
        navigator.clipboard?.writeText(text);
        alert("ØªÙ… Ù†Ø³Ø® Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ©!");
      };

      const prRoot=document.getElementById("projectIdeas"); prRoot.innerHTML="";
      const projList=[]; top.forEach(id=>projList.push(...(PROJECTS[id]||[])));
      if(!projList.length) projList.push("Ù…Ø´Ø±ÙˆØ¹ Ø¹Ø§Ù…: Ø¯Ø±Ø§Ø³Ø© Ø­Ø§Ù„Ø© Ù…Ø®ØªØµØ±Ø© ÙˆÙ†Ø´Ø±Ù‡Ø§");
      projList.slice(0,9).forEach((p,i)=>{
        const card=document.createElement("div");
        const id="proj-"+i;
        const majorId=top[0]||"cs";
        card.className="card p-3 text-sm";
        card.innerHTML=`
          ${iconCardHTML(majorId,"ÙÙƒØ±Ø© Ù…Ø´Ø±ÙˆØ¹","")}
          <div class="mt-2">${p}</div>
          <div class="mt-2">
            <button class="btn" data-addplan="${id}">â• Ø£Ø¶ÙÙ Ù„Ù„Ø®Ø·Ø©</button>
          </div>
        `;
        card.querySelector(`[data-addplan="${id}"]`).addEventListener("click",()=>addTaskToPlan(p));
        prRoot.appendChild(card);
      });

      if(!plan.length) { plan = defaultPlan(top); writeState("plan",plan); }
      renderPlan();

      const tabRoot=document.getElementById("interviewMajorTabs");
      const listRoot=document.getElementById("interviewQs");
      tabRoot.innerHTML=""; listRoot.innerHTML="";
      const majorsForTabs=[...new Set([...top, ...compareIds, "cs","eng","biz"])].slice(0,6);
      majorsForTabs.forEach(id=>{
        const m=MAJORS.find(x=>x.id===id); if(!m) return;
        const b=document.createElement("button");
        b.className="btn"; b.textContent=m.name; b.onclick=()=>renderQsFor(id);
        tabRoot.appendChild(b);
      });
      function renderQsFor(id){
        const qs=INTERVIEW_QS[id]||["Ø¹Ø±Ù‘Ù Ø¨Ù†ÙØ³Ùƒ.","Ù„Ù…Ø§Ø°Ø§ Ù‡Ø°Ø§ Ø§Ù„ØªØ®ØµØµØŸ","Ù…Ø§Ø°Ø§ Ø£Ø¶ÙØª ÙÙŠ Ø¢Ø®Ø± Ù…Ø´Ø±ÙˆØ¹ØŸ"];
        listRoot.innerHTML="";
        qs.forEach(q=>{
          const row=document.createElement("div");
          row.className="card p-3 flex items-center justify-between gap-2";
          row.innerHTML=`<div class="text-sm">${q}</div><button class="btn-ghost text-xs">Ù†Ø³Ø®</button>`;
          row.querySelector("button").onclick=()=>{ navigator.clipboard?.writeText(q); };
          listRoot.appendChild(row);
        });
        document.getElementById("copyQsBtn").onclick=()=>{
          navigator.clipboard?.writeText(qs.join("\n- "));
          alert("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø£Ø³Ø¦Ù„Ø©!");
        };
      }
      if(majorsForTabs.length) renderQsFor(majorsForTabs[0]);
    }

    function renderPlan(){
      const root=document.getElementById("planList"); root.innerHTML="";
      let done=0;
      plan.forEach((t,idx)=>{
        const row=document.createElement("label");
        row.className="card p-3 flex items-start gap-3 text-sm";
        row.innerHTML=`
          <input type="checkbox" ${t.done?"checked":""} data-idx="${idx}">
          <div class="grow"><div>${t.text}</div></div>
          <button class="btn-ghost text-xs" data-del="${idx}">Ø­Ø°Ù</button>
        `;
        row.querySelector(`[data-idx="${idx}"]`).addEventListener("change",(e)=>{
          plan[idx].done=e.target.checked; writeState("plan",plan); renderPlan();
        });
        row.querySelector(`[data-del="${idx}"]`).addEventListener("click",()=>{
          plan.splice(idx,1); writeState("plan",plan); renderPlan();
        });
        if(t.done) done++;
        root.appendChild(row);
      });
      const pct = plan.length? Math.round((done/plan.length)*100) : 0;
      document.getElementById("planPercent").textContent=pct+"%";
      document.getElementById("planProgress").style.width=pct+"%";
    }
    function addTaskToPlan(text){
      plan.push({id:"c"+Date.now(), text, done:false});
      writeState("plan",plan); renderPlan();
    }
    document.getElementById("addCustomTask").addEventListener("click",()=>{
      const t=prompt("Ø£Ø¯Ø®Ù„ Ù†Øµ Ø§Ù„Ù…Ù‡Ù…Ø© Ø§Ù„Ù…Ø®ØµÙ‘ØµØ©:"); if(!t) return; addTaskToPlan(t);
    });
    document.getElementById("clearPlan").addEventListener("click",()=>{
      if(confirm("Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ø³Ø­ Ø§Ù„Ø®Ø·Ø©ØŸ")){ plan=[]; writeState("plan",plan); renderPlan(); }
    });

    /* === Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù†ØªÙŠØ¬Ø© ÙƒØ±Ø§Ø¨Ø· === */
    document.getElementById("shareBtn").addEventListener("click",()=>{
      const hash=packState();
      const url=location.origin+location.pathname+"#"+hash;
      navigator.clipboard?.writeText(url);
      alert("ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ù†ØªÙŠØ¬ØªÙƒ! Ø§Ù„ØµÙ‚Ù‡ Ù„Ù…Ø´Ø§Ø±ÙƒØªÙ‡.");
    });
    if(location.hash.length>1){
      const data=unpackState(location.hash.slice(1)); if(data){
        answers=data.a||answers; compareIds=data.c||compareIds; plan=data.p||plan;
        writeState("answers",answers); writeState("compare",compareIds); writeState("plan",plan);
      }
    }

    /* === Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø«ÙŠÙ… === */
    darkToggle.addEventListener("change",()=>{ document.documentElement.setAttribute("data-theme", darkToggle.checked?"dark":"light"); });
    neutralToggle.addEventListener("change",()=>{ document.body.style.setProperty("--ind", neutralToggle.checked?"#64748b":"#4f46e5"); });

    /* === ØªØ­ÙƒÙ… Ø¹Ø§Ù… === */
    document.getElementById("resetBtn").addEventListener("click",()=>{
      answers=Object.fromEntries(QUESTIONS.map(q=>[q.key,5]));
      compareIds=[]; plan=[];
      writeState("answers",answers); writeState("compare",compareIds); writeState("plan",plan);
      document.getElementById("search").value="";
      renderQuestions(); renderResults(); renderCompare(); renderPlan();
    });
    document.getElementById("clearSearch").addEventListener("click",()=>{ search.value=""; renderGuide(); });
    document.getElementById("search").addEventListener("input", renderGuide);
    if(startBtn){ startBtn.addEventListener("click",()=>document.getElementById("quiz").scrollIntoView({behavior:"smooth"})); }

    /* === Ù…Ø­Ø§ÙƒÙŠ Ù…Ù‚Ø§Ø¨Ù„Ø© Ù…Ø¹ Ù…Ø¤Ù‚Ù‘Øª (Ø§Ù„Ø£Ø¯Ø§Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø±Ù‚Ù… 6) === */
    let miInt = null, miT = 90;
    function pickInterviewPool(){
      const top = computeScores(answers).slice(0,3).map(r=>r.id);
      const pools = top.map(id => (INTERVIEW_QS[id] || []));
      const flat = pools.flat().length ? pools.flat() : (INTERVIEW_QS.cs||[]);
      return flat;
    }
    function miStartTimer(){
      clearInterval(miInt);
      miT = 90;
      document.getElementById("miTimer").textContent = miT;
      miInt = setInterval(()=>{
        miT--;
        document.getElementById("miTimer").textContent = miT;
        if(miT<=0) clearInterval(miInt);
      }, 1000);
    }
    function miNewQ(){
      const pool = pickInterviewPool();
      const q = pool[Math.floor(Math.random()*pool.length)];
      document.getElementById("miQuestion").textContent = q;
      miStartTimer();
    }
    const btnN = document.getElementById("miNew");
    const btnC = document.getElementById("miCopy");
    if(btnN){ btnN.onclick = miNewQ; }
    if(btnC){ btnC.onclick = ()=> {
      const q = document.getElementById("miQuestion").textContent;
      navigator.clipboard?.writeText(q);
    }; }

    /* === ØªØ´ØºÙŠÙ„ Ø£ÙˆÙ„ÙŠ === */
    renderQuestions();
    renderResults();
  </script>
</body>
</html>

